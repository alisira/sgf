<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Update HQL : HQL Update&nbsp;«&nbsp;Hibernate&nbsp;«&nbsp;Java</title><meta http-equiv="content-style-type" content="text/css"><meta name="author" content="" demo="" source="" and="" support="" ltd.'=""><meta name="copyright" content="2015 Demo Source and Support Ltd."><meta name="description" content="Update HQL : HQL Update&nbsp;«&nbsp;Hibernate&nbsp;«&nbsp;Java"><meta name="keywords" content="Update HQL : HQL Update&nbsp;«&nbsp;Hibernate&nbsp;«&nbsp;Java"><link rel="shortcut icon" href="http://www.java2s.com/style/favicon.ico"><link href="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/bootstrap.css" rel="stylesheet"><link href="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/longTutorial.css" rel="stylesheet"><script src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/ca-pub-1130008796007602.js" type="text/javascript" async=""></script><script src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/jquery-1.js"></script><script src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/bootstrap.js"></script><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:--><!--[if lt IE 9]><script src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js'></script><script src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js'></script><![endif]--><script>$(document).ready(function() {$('[data-toggle=offcanvas]').click(function() {$('.row-offcanvas').toggleClass('active');});});</script> </head><body><div class="container-fluid"><div class="row row-offcanvas row-offcanvas-left"><div class="col-sm-3 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation"><ul class="nav nav-sidebar"><li><a href="http://www.java2s.com/">Home</a></li><li><a href="http://www.java2s.com/Code/Java/CatalogJava.htm">Java</a></li><li><a href="http://www.java2s.com/Code/Java/2D-Graphics-GUI/Catalog2D-Graphics-GUI.htm">2D Graphics GUI</a></li><li><a href="http://www.java2s.com/Code/Java/3D/Catalog3D.htm">3D</a></li><li><a href="http://www.java2s.com/Code/Java/Advanced-Graphics/CatalogAdvanced-Graphics.htm">Advanced Graphics</a></li><li><a href="http://www.java2s.com/Code/Java/Ant/CatalogAnt.htm">Ant</a></li><li><a href="http://www.java2s.com/Code/Java/Apache-Common/CatalogApache-Common.htm">Apache Common</a></li><li><a href="http://www.java2s.com/Code/Java/Chart/CatalogChart.htm">Chart</a></li><li><a href="http://www.java2s.com/Code/Java/Class/CatalogClass.htm">Class</a></li><li><a href="http://www.java2s.com/Code/Java/Collections-Data-Structure/CatalogCollections-Data-Structure.htm">Collections Data Structure</a></li><li><a href="http://www.java2s.com/Code/Java/Data-Type/CatalogData-Type.htm">Data Type</a></li><li><a href="http://www.java2s.com/Code/Java/Database-SQL-JDBC/CatalogDatabase-SQL-JDBC.htm">Database SQL JDBC</a></li><li><a href="http://www.java2s.com/Code/Java/Design-Pattern/CatalogDesign-Pattern.htm">Design Pattern</a></li><li><a href="http://www.java2s.com/Code/Java/Development-Class/CatalogDevelopment-Class.htm">Development Class</a></li><li><a href="http://www.java2s.com/Code/Java/EJB3/CatalogEJB3.htm">EJB3</a></li><li><a href="http://www.java2s.com/Code/Java/Email/CatalogEmail.htm">Email</a></li><li><a href="http://www.java2s.com/Code/Java/Event/CatalogEvent.htm">Event</a></li><li><a href="http://www.java2s.com/Code/Java/File-Input-Output/CatalogFile-Input-Output.htm">File Input Output</a></li><li><a href="http://www.java2s.com/Code/Java/Game/CatalogGame.htm">Game</a></li><li><a href="http://www.java2s.com/Code/Java/Generics/CatalogGenerics.htm">Generics</a></li><li><a href="http://www.java2s.com/Code/Java/GWT/CatalogGWT.htm">GWT</a></li><li class="active"><a href="">Hibernate</a></li><li><a href="http://www.java2s.com/Code/Java/I18N/CatalogI18N.htm">I18N</a></li><li><a href="http://www.java2s.com/Code/Java/J2EE/CatalogJ2EE.htm">J2EE</a></li><li><a href="http://www.java2s.com/Code/Java/J2ME/CatalogJ2ME.htm">J2ME</a></li><li><a href="http://www.java2s.com/Code/Java/JavaFX/CatalogJavaFX.htm">JavaFX</a></li><li><a href="http://www.java2s.com/Code/Java/JDK-6/CatalogJDK-6.htm">JDK 6</a></li><li><a href="http://www.java2s.com/Code/Java/JDK-7/CatalogJDK-7.htm">JDK 7</a></li><li><a href="http://www.java2s.com/Code/Java/JNDI-LDAP/CatalogJNDI-LDAP.htm">JNDI LDAP</a></li><li><a href="http://www.java2s.com/Code/Java/JPA/CatalogJPA.htm">JPA</a></li><li><a href="http://www.java2s.com/Code/Java/JSP/CatalogJSP.htm">JSP</a></li><li><a href="http://www.java2s.com/Code/Java/JSTL/CatalogJSTL.htm">JSTL</a></li><li><a href="http://www.java2s.com/Code/Java/Language-Basics/CatalogLanguage-Basics.htm">Language Basics</a></li><li><a href="http://www.java2s.com/Code/Java/Network-Protocol/CatalogNetwork-Protocol.htm">Network Protocol</a></li><li><a href="http://www.java2s.com/Code/Java/PDF-RTF/CatalogPDF-RTF.htm">PDF RTF</a></li><li><a href="http://www.java2s.com/Code/Java/Reflection/CatalogReflection.htm">Reflection</a></li><li><a href="http://www.java2s.com/Code/Java/Regular-Expressions/CatalogRegular-Expressions.htm">Regular Expressions</a></li><li><a href="http://www.java2s.com/Code/Java/Scripting/CatalogScripting.htm">Scripting</a></li><li><a href="http://www.java2s.com/Code/Java/Security/CatalogSecurity.htm">Security</a></li><li><a href="http://www.java2s.com/Code/Java/Servlets/CatalogServlets.htm">Servlets</a></li><li><a href="http://www.java2s.com/Code/Java/Spring/CatalogSpring.htm">Spring</a></li><li><a href="http://www.java2s.com/Code/Java/Swing-Components/CatalogSwing-Components.htm">Swing Components</a></li><li><a href="http://www.java2s.com/Code/Java/Swing-JFC/CatalogSwing-JFC.htm">Swing JFC</a></li><li><a href="http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/CatalogSWT-JFace-Eclipse.htm">SWT JFace Eclipse</a></li><li><a href="http://www.java2s.com/Code/Java/Threads/CatalogThreads.htm">Threads</a></li><li><a href="http://www.java2s.com/Code/Java/Tiny-Application/CatalogTiny-Application.htm">Tiny Application</a></li><li><a href="http://www.java2s.com/Code/Java/Velocity/CatalogVelocity.htm">Velocity</a></li><li><a href="http://www.java2s.com/Code/Java/Web-Services-SOA/CatalogWeb-Services-SOA.htm">Web Services SOA</a></li><li><a href="http://www.java2s.com/Code/Java/XML/CatalogXML.htm">XML</a></li></ul></div><div class="col-sm-9 col-md-9"><div class="visible-xs"><button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button></div><form class="form-inline pull-right" action="http://www.google.com/cse" id="cse-search-box"><fieldset><label class="control-label"><input name="cx" value="partner-pub-1130008796007602:iri8be-v211" type="hidden"><input name="ie" value="ISO-8859-1" type="hidden"><input size="15" name="q" type="text"><input name="sa" value="Search" type="submit"></label></fieldset></form><script type="text/javascript" src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/brand"></script><h1>Update HQL : HQL Update&nbsp;«&nbsp;Hibernate&nbsp;«&nbsp;Java</h1><ol class="breadcrumb"><li><a href="http://www.java2s.com/Code/Java/CatalogJava.htm">Java</a></li><li><a href="http://www.java2s.com/Code/Java/Hibernate/CatalogHibernate.htm">Hibernate</a></li><li><a href="http://www.java2s.com/Code/Java/Hibernate/HQL-Update.htm">HQL Update</a></li><li></li></ol><br><br><script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=728;google_ad_height=90;google_ad_format="728x90_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="ffffff";google_color_link="003399";google_color_text="000000";google_color_url="75a3ed";
//--></script><script type="text/javascript" src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/show_ads.js"></script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="90" width="728"></iframe></ins></ins><br><br><p>Update HQL</p><pre><font color="#3f7f5f">/////////////////////////////////////////////////////////////////////////
</font><font color="#7f0055"><b>import</b></font> java.util.*;

<font color="#7f0055"><b>import</b></font> java.sql.*;
<font color="#7f0055"><b>import</b></font> org.hibernate.*;
<font color="#7f0055"><b>import</b></font> org.hibernate.criterion.*;

<font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>class</b></font> Main {
  
  <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>static</b></font> <font color="#7f0055"><b>void</b></font> main(String[] args) {
    HibernateUtil.setup(<font color="#2a00ff">"create table Supplier ( id int, name VARCHAR);"</font>);
    HibernateUtil.setup(<font color="#2a00ff">"create table Product ( id int, name VARCHAR, description VARCHAR, price double,supplierId int);"</font>);
    
    prepareData();
    Session session = HibernateUtil.currentSession();
    
        String sql = <font color="#2a00ff">"select {supplier.*} from Supplier supplier"</font>;
            
        String hql = <font color="#2a00ff">"update Supplier set name = :newName where name = :name"</font>;
        Query query = session.createQuery(hql);
        query.setString(<font color="#2a00ff">"name"</font>,<font color="#2a00ff">"Supplier Name 1"</font>);
        query.setString(<font color="#2a00ff">"newName"</font>,<font color="#2a00ff">"s1"</font>);
        <font color="#7f0055"><b>int</b></font> rowCount = query.executeUpdate();
        System.out.println(<font color="#2a00ff">"Rows affected: "</font> + rowCount);

        query = session.createQuery(<font color="#2a00ff">"from Supplier"</font>);
        List results = query.list();            

        displaySupplierList(results);            
    
    
        HibernateUtil.checkData(<font color="#2a00ff">"select * from Supplier"</font>);
        HibernateUtil.checkData(<font color="#2a00ff">"select * from Product"</font>);

  }
    <font color="#7f0055"><b>static</b></font> <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> displaySupplierList(List list) {
        Iterator iter = list.iterator();
        <font color="#7f0055"><b>if</b></font> (!iter.hasNext()) {
            System.out.println(<font color="#2a00ff">"No suppliers to display."</font>);
            <font color="#7f0055"><b>return</b></font>;
        }        
        <font color="#7f0055"><b>while</b></font> (iter.hasNext()) {
            Supplier supplier = (Supplier) iter.next();
            String msg = supplier.getName();
            System.out.println(msg);
        }
    }

 


  <font color="#7f0055"><b>private</b></font> <font color="#7f0055"><b>static</b></font> <font color="#7f0055"><b>void</b></font> prepareData(){
        Session session = HibernateUtil.currentSession();

        Supplier supplier1 = <font color="#7f0055"><b>new</b></font> Supplier();
        supplier1.setName(<font color="#2a00ff">"Supplier Name 1"</font>);
        session.save(supplier1);
        
        Supplier supplier2 = <font color="#7f0055"><b>new</b></font> Supplier();
        supplier2.setName(<font color="#2a00ff">"Supplier Name 2"</font>);
        session.save(supplier2);        
        
        Product product1 = <font color="#7f0055"><b>new</b></font> Product(<font color="#2a00ff">"Product 1"</font>,<font color="#2a00ff">"Name for Product 1"</font>, 2.0);
        product1.setSupplier(supplier1);
        supplier1.getProducts().add(product1);
        session.save(product1);
        
        Product product12 = <font color="#7f0055"><b>new</b></font> Product(<font color="#2a00ff">"Product 2"</font>,<font color="#2a00ff">"Name for Product 2"</font>, 22.0);
        product12.setSupplier(supplier1);
        supplier1.getProducts().add(product12);        
        session.save(product12);
        
        Product product2 = <font color="#7f0055"><b>new</b></font> Product(<font color="#2a00ff">"Product 3"</font>, <font color="#2a00ff">"Name for Product 3"</font>, 30.0);
        product2.setSupplier(supplier2);
        supplier2.getProducts().add(product2);
        session.save(product2);
        
        session.flush();
        HibernateUtil.closeSession();
  }
}




<font color="#3f7f5f">/////////////////////////////////////////////////////////////////////////
</font>

<font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>class</b></font> Product
{
    <font color="#7f0055"><b>private</b></font> <font color="#7f0055"><b>int</b></font> id;
    <font color="#7f0055"><b>private</b></font> Supplier supplier;
    
    <font color="#7f0055"><b>private</b></font> String name;
    <font color="#7f0055"><b>private</b></font> String description;
    <font color="#7f0055"><b>private</b></font> <font color="#7f0055"><b>double</b></font> price;
    
    <font color="#7f0055"><b>public</b></font> Product()
    {
        <font color="#7f0055"><b>super</b></font>();
    }
    
    <font color="#7f0055"><b>public</b></font> Product(String name, String description, <font color="#7f0055"><b>double</b></font> price)
    {
        <font color="#7f0055"><b>super</b></font>();
        this.name = name;
        this.description = description;
        this.price = price;
    }
    
    <font color="#7f0055"><b>public</b></font> String getDescription()
    {
        <font color="#7f0055"><b>return</b></font> description;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> setDescription(String description)
    {
        this.description = description;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>int</b></font> getId()
    {
        <font color="#7f0055"><b>return</b></font> id;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> setId(<font color="#7f0055"><b>int</b></font> id)
    {
        this.id = id;
    }
    <font color="#7f0055"><b>public</b></font> String getName()
    {
        <font color="#7f0055"><b>return</b></font> name;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> setName(String name)
    {
        this.name = name;
    }
 
    <font color="#7f0055"><b>public</b></font> Supplier getSupplier()
    {
        <font color="#7f0055"><b>return</b></font> supplier;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> setSupplier(Supplier supplier)
    {
        this.supplier = supplier;
    }
    
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>double</b></font> getPrice()
    {
        <font color="#7f0055"><b>return</b></font> price;
    }
    <font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> setPrice(<font color="#7f0055"><b>double</b></font> price)
    {
        this.price = price;
    }
}

           
       
</pre><table class="table"></table><table><tbody>
<tr><td align="left"><br><br><br><script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=300;google_ad_height=250;google_ad_format="300x250_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="FFFFFF";google_color_link="0077cc";google_color_url="0077cc";google_color_text="000000";
//--></script><script type="text/javascript" src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/show_ads.js"></script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" frameborder="0" height="250" width="300"></iframe></ins></ins><br><br></td>
</tr><tr><td><br><script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=300;google_ad_height=250;google_ad_format="300x250_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="FFFFFF";google_color_link="0077cc";google_color_url="0077cc";google_color_text="000000";
//--></script><script type="text/javascript" src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/show_ads.js"></script><ins id="aswift_2_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;" frameborder="0" height="250" width="300"></iframe></ins></ins><br><br><br><br></td></tr></tbody></table><a href="http://www.java2s.com/Code/JavaDownload/HibernateHQLUpdateHQL.zip"><img heigh="32" src="Update%20HQL%20:%20HQL%20Update%C2%A0%C2%AB%C2%A0Hibernate%C2%A0%C2%AB%C2%A0Java_files/download.png" border="0" width="32">HibernateHQLUpdateHQL.zip( 3,691 k)</a><h3>Related examples in the same category</h3><table class="table"></table></div></div><footer><p class="pull-right"><a href="http://www.java2s.com/">java2s.com</a>  &nbsp;|&nbsp;Email:info at java2s.com&nbsp;|&nbsp;© Demo Source and Support. All rights reserved.</p></footer></div><iframe style="display: none; width: 0px; height: 0px;" name="google_osd_static_frame" id="google_osd_static_frame_6961157048962"></iframe></body></html>
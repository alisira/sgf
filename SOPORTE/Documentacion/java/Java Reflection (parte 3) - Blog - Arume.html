<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es"><head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta http-equiv="content-language" content="es">

	<title>Java Reflection (parte 3) - Blog - Arume</title>

	<meta name="author" xml:lang="gl" content="Arume, arumeinformatica.es" lang="gl">

	<meta name="mssmarttagspreventparsing" content="true">
	<meta http-equiv="imagetoolbar" content="false">
	<meta http-equiv="msthemecompatible" content="no">

	<!-- base href="http://www.arumeinformatica.es/" -->

	<meta name="keywords" content="blog, Arume, página web, Java Reflection (parte 3)">
	<meta name="description" content="Santi continúa con su serie de artículos sobre Java Reflection (Reflexión en Java), una funcionalidad de Java que permite al programador inspeccionar y manipular clases e interfaces en tiempo de ejecución.">

	<meta name="google-site-verification" content="XrgckwjLgeNa_PCkQa8CZpZK1B8Lm4A_mDUIg3h2mkk">
	<meta name="msvalidate.01" content="121EDA297AE55FE16160D94A9F291A85">

	<link rel="icon" href="http://www.arumeinformatica.es/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="http://www.arumeinformatica.es/favicon.ico" type="image/x-icon">

	<link rel="stylesheet" type="text/css" href="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/styles.css" media="all">
	<!--[if lte IE 6]>
	<link rel="stylesheet" type="text/css" href="static/css/styles_ie6.css" media="all" />
	<![endif]-->
	<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="static/css/styles_ie7.css" media="all" />
	<![endif]-->

	<link rel="alternate" href="http://www.arumeinformatica.es/gl/blog/java-reflection-parte-3/" xml:lang="gl" hreflang="gl" title="Versión en galego" lang="gl">
	<link rel="stylesheet" type="text/css" media="all" href="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/styles_blog.css">
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0 del Blog de Arume" href="http://www.arumeinformatica.es/blog/rss/">
	<script src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/ca-pub-7135949180217717.js" type="text/javascript" async=""></script><script src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/ga_002.js" async="" type="text/javascript"></script><script type="text/javascript" src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/ga.js"></script></head>
<body id="p-blog-java-reflection-parte-3">
	<div id="outer">
		<div id="inner" class="pagewidth clearfix">
			<div id="header" class="clearfix">
				
<ul id="i18n-menu">
	<li><a href="http://www.arumeinformatica.es/gl/blog/java-reflection-parte-3/" xml:lang="gl" hreflang="gl" title="Versión en galego" lang="gl">Galego</a></li>
	<li class="current">Español</li>
</ul>
				<div><p id="mod-accesibility" class="ac-hidden"><a href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#sk-content" rel="nofollow">Saltar al contenido</a></p>
</div>
				<h1><a href="http://www.arumeinformatica.es/"><img src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/logo.png" alt="Arume Desenvolvementos Informáticos" height="128" width="228"></a></h1>
				
<h2 class="ac-hidden">Menú Principal</h2>
<p class="ac-hidden"><a href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#sk-main" rel="nofollow">Saltar el menú principal</a></p>
<ul id="main-menu" class="clearfix">
	<li class="first"><a href="http://www.arumeinformatica.es/" title="Página principal [1]" accesskey="1">Inicio</a></li>
	<li><a href="http://www.arumeinformatica.es/que-hacemos/" title="Qué hacemos y cómo lo hacemos [2]" accesskey="2">Qué hacemos</a></li>
	<li><a href="http://www.arumeinformatica.es/quienes-somos/" title="Acerca de nosotros [3]" accesskey="3">Quiénes somos</a></li>
	<li><a href="http://www.arumeinformatica.es/portafolio/" title="Páginas web en las que participamos [4]" accesskey="4">Portafolio</a></li>
	<li><a href="http://www.arumeinformatica.es/contacto/" title="Comunícate con nosotros [5]" accesskey="5">Contacto</a></li>
	<li class="current"><a href="http://www.arumeinformatica.es/blog/" title="Artículos técnicos y de opinión sobre la web [6]" accesskey="6"><em>Blog</em></a></li>
	<li><a href="http://www.arumeinformatica.es/dudas/" title="Definiciones y respuestas a preguntas frecuentes [7]" accesskey="7">Dudas</a></li>
	<li><a href="http://www.arumeinformatica.es/utiles/" title="Herramientas útiles creadas por nosotros [8]" accesskey="8">Útiles</a></li>
</ul>
<p class="ac-hidden"><a id="sk-main" name="sk-main"></a></p>
			</div>
			<div id="side">
<div id="mod-contact" class="vcard clearfix">
	<h2>Hola, somos <span class="fn org">Arume</span></h2>
	<div id="mod-contact-data">
		<p id="mod-contact-text">Desarrollamos <a href="http://www.arumeinformatica.es/que-hacemos/" title="Qué hacemos"><strong>páginas web, aplicaciones para móviles, capas de realidad aumentada y aplicaciones para <span xml:lang="en" lang="en">Facebook</span></strong></a>. Nos apasiona la informática y somos unos perfeccionistas incurables; por eso en nuestros proyectos <a href="http://www.arumeinformatica.es/que-hacemos/#como-lo-hacemos" title="Cómo lo hacemos"><strong>utilizamos estándares</strong></a>.</p>
		<p class="mod-contact-info"><abbr title="Teléfono">tel.</abbr> <span class="tel">625 519 694</span> <a class="email" href="mailto:arume@arumeinformatica.es">arume@arumeinformatica.es</a></p>
		<p class="adr"><span class="street-address">Mendaña de Neyra, 34</span>, <span class="extended-address">3º B</span>, <span class="postal-code">15008</span>, <span class="locality">A Coruña</span></p>
	</div>
</div>
<h2><a name="mod-blog-user" id="mod-blog-user"></a>Autenticarse</h2>
<form method="post" action="blog/java-reflection-parte-3/#mod-blog-user" id="blog-user-form">
	<p class="form-inputs"><label for="blog_user_form_email" xml:lang="en" lang="en">Email </label><input id="blog_user_form_email" name="blog_user_form_email" class="inputbox"></p>
	<p class="form-inputs"><label for="blog_user_form_pass">Contraseña </label><input id="blog_user_form_pass" name="blog_user_form_pass" class="inputbox" type="password"></p>
	<p class="required-email"><label for="required-email-auth">No cubrir este campo </label><input id="required-email-auth" name="required-email"></p>
	<p class="buttons"><input name="mod-blog-user-send" value="Entrar" class="button" type="submit"></p>
	<p class="mod-blog-user-extra"><a href="http://www.arumeinformatica.es/blog/usuarios/registrarse/">Registrarse</a>. <a class="mod-blog-user-forgotten" href="http://www.arumeinformatica.es/blog/usuarios/olvide-mi-contrasena/">¿Has olvidado tu contraseña?</a></p>
</form>

<h2>Etiquetas</h2>
<p class="ac-hidden"><a href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#sk-menus-blog" rel="nofollow">Saltar las etiquetas</a></p>
<ul id="blog-tag-menu">
	<li><a href="http://www.arumeinformatica.es/blog/tag/accesibilidad/" rel="tag">Accesibilidad</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/android/" rel="tag">Android</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/arume/" rel="tag"><span xml:lang="gl" lang="gl">Arume</span></a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/bases-de-datos/" rel="tag">Bases de datos</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/css/" rel="tag"><abbr xml:lang="en" title="Cascading Style Sheets" lang="en">CSS</abbr></a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/facebook/" rel="tag"><span xml:lang="en" lang="en">Facebook</span></a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/html/" rel="tag"><abbr xml:lang="en" title="HyperText Markup Language" lang="en">HTML</abbr></a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/ios/" rel="tag">iOS</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/java/" rel="tag">Java</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/javascript/" rel="tag">Javascript</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/microformatos/" rel="tag">Microformatos</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/navegadores/" rel="tag">Navegadores</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/php/" rel="tag"><abbr xml:lang="en" title="PHP Hypertext Pre-processor" lang="en">PHP</abbr></a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/posicionamiento-web/" rel="tag">Posicionamiento web</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/programacion/" rel="tag">Programación</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/realidad-aumentada/" rel="tag">Realidad aumentada</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/seguridad-web/" rel="tag">Seguridad web</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/servidores-web/" rel="tag">Servidores web</a></li>
	<li><a href="http://www.arumeinformatica.es/blog/tag/usabilidad/" rel="tag">Usabilidad</a></li>
</ul>
<p class="ac-hidden"><a id="sk-menus-blog" name="sk-menus-blog"></a></p>

<p id="mod-static-rss"><a href="http://www.arumeinformatica.es/blog/rss/">Suscríbete a las <abbr title="Really Simple Syndication" xml:lang="en" lang="en">RSS</abbr></a></p>
<div id="adsense-160-600">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7135949180217717";
google_ad_slot = "9356194985";
google_ad_width = 160;
google_ad_height = 600;
//--></script>
<script type="text/javascript" src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/show_ads.js"></script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="600" width="160"></iframe></ins></ins>
</div>
			</div>
			<div id="content" class="clearfix">
				
<p id="mod-breadcrumb-text">Estás en:</p>

<ul id="mod-breadcrumb">
	<li><a href="http://www.arumeinformatica.es/">Inicio</a> &gt;</li>
	<li><a href="http://www.arumeinformatica.es/blog/">Blog</a> &gt;</li>
	<li><span xml:lang="en" lang="en">Java Reflection</span> (parte 3)</li>
</ul>
				<p class="ac-hidden"><a name="sk-content" id="sk-content"></a></p>
				
<h2 id="blog-details-title"><span xml:lang="en" lang="en">Java Reflection</span> (parte 3)</h2>
<p class="blog-post-data"><span class="date"><span class="date-month"><span class="date-bottom"><span class="date-day">17</span> <abbr title="Junio">Jun</abbr></span></span> <span class="date-year">2011</span></span> por <a href="http://www.arumeinformatica.es/blog/autor/santi/" title="Ver los artículos de Santi">Santi</a></p>
<p class="blog-comments"><a href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#blog-comments">Comentarios: 11</a></p>
<div id="adsense-468-60">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7135949180217717";
google_ad_slot = "8332616774";
google_ad_width = 468;
google_ad_height = 60;
//--></script>
<script type="text/javascript" src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/show_ads.js"></script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" frameborder="0" height="60" width="468"></iframe></ins></ins>
</div>
<div class="blog-text clearfix"><p class="blog-deco image_left"><img src="Java%20Reflection%20%28parte%203%29%20-%20Blog%20-%20Arume_files/java.jpg" alt="Java"></p><p>En las anteriores entradas <a href="http://www.arumeinformatica.es/blog/java-reflection-parte-1/"><span xml:lang="en" lang="en">Java Reflection</span> parte 1</a> y <a href="http://www.arumeinformatica.es/blog/java-reflection-parte-2/"><span xml:lang="en" lang="en">Java Reflection</span> parte 2</a>)
 hemos comentado conceptos básicos sobre cómo obtener en tiempo de 
ejecución los tipos, atributos y métodos de un objeto, y las 
manipulaciones básicas sobre los mismos (acceder y cambiar sus valores).
 También hemos explicado algunas manipulaciones más complejas (obtención
 de instancias a partir de constructores específicos, acceder y 
modificar elementos privados, ...).</p><p>En esta tercera parte nos dedicaremos a explicar cómo trabajar con reflexión con dos elementos un poco más avanzados de Java: <span xml:lang="en" lang="en">arrays</span> y tipos genéricos (<span xml:lang="en" lang="en">Java Generics</span>). Aunque quizás puedan ser considerados elementos básicos del lenguaje de programación (los <span xml:lang="en" lang="en">arrays</span> deben ser el primer tipo complejo que se enseña en las clases de programación), la manipulación vía <span xml:lang="en" lang="en">Java Reflection</span>
 de los mismos es un poco más compleja que los elementos vistos hasta el
 momento, aunque descubriremos que una vez aprendidos los conceptos 
básicos tal complejidad es sólo aparente.</p><h3 xml:lang="en" lang="en">Arrays</h3><p>La manipulación de <span xml:lang="en" lang="en">arrays</span> mediante <span xml:lang="en" lang="en">Java Reflection</span> se efectúa usando la clase <code>java.lang.reflect.Array</code>. Para crear un <span xml:lang="en" lang="en">array</span> debemos usar el método <code>Array.newInstance(Class arrayClass, int size)</code>, siendo el primer parámetro la clase de los elementos del <span xml:lang="en" lang="en">array</span> y el segundo el tamaño del <span xml:lang="en" lang="en">array</span>. De esta forma, para crear un <span xml:lang="en" lang="en">array</span> de 3 cadenas:</p><pre><code>String[] names = (String[]) Array.newInstance(String.class, 3);</code></pre><p>Una vez tenemos nuestro <span xml:lang="en" lang="en">array</span> creado, podremos acceder y asignar sus elementos mediante los respectivos métodos <code>Array.get(Object array, int index)</code> y <code>Array.set(Object array, int index, Object value)</code>, donde los parámetros son: <code>array</code> = el <span xml:lang="en" lang="en">array</span> en cuestión, <code>index</code> = el elemento dentro del <span xml:lang="en" lang="en">array</span> (notación estándar de <span xml:lang="en" lang="en">arrays</span>, el primer elemento tendrá siempre el índice 0), <code>value</code> = el valor a asignar.</p><p>Además de estos dos métodos genéricos, la clase <code>Array</code> contiene unos métodos <code>get</code> y <code>set</code> específicos para los tipos primitivos de Java. De esta forma tenemos <code>Array.getBoolean()</code> y <code>Array.setBoolean()</code> para <span xml:lang="en" lang="en">arrays</span> de tipo <code>boolean</code>, <code>Array.getLong()</code> y <code>Array.setLong()</code> para <span xml:lang="en" lang="en">arrays</span> de tipo <code>long</code>,
 ... Los parámetros para estos métodos son los mismos que para los 
métodos genéricos, con la única salvedad de que el último parámetro del <code>set()</code> (<code>value</code>, el que contiene el valor a asignar) será del tipo primitivo en cuestión en vez de tipo genérico <code>Object</code>.</p><p>Como ejemplo, supongamos que tenemos una cadena almacenada en una variable <code>storedName</code>, y queremos guardarla en el segundo elemento (índice 1) de nuestro <span xml:lang="en" lang="en">array</span> anterior y almacenar en ella el siguiente valor del <span xml:lang="en" lang="en">array</span>:</p><pre><code>String storedName;

/* ... */

Array.set(names, 1, storedName);
storedName = (String) Array.get(names, 2);</code></pre><p>Obtener la clase de un <span xml:lang="en" lang="en">array</span>
 es ligeramente más complejo que con el resto de objetos, puesto que hay
 que utilizar una notación un tanto especial. Para obtener la clase de 
un <span xml:lang="en" lang="en">array</span> mediante el conocido método <code>Class.forName(String className)</code>, debemos saber que para indicar un <span xml:lang="en" lang="en">array</span> debemos iniciar la cadena del parámetro <code>className</code> con el carácter <code>'['</code> seguido del tipo de clase de los elementos del <span xml:lang="en" lang="en">array</span>. Para tipos primitivos se usará una letra de la siguiente lista:</p><ul><li><strong><code>boolean</code>:</strong> <code>Z</code></li><li><strong><code>byte</code>:</strong> <code>B</code></li><li><strong><code>short</code>:</strong> <code>S</code></li><li><strong><code>int</code>:</strong> <code>I</code></li><li><strong><code>long</code>:</strong> <code>J</code></li><li><strong><code>char</code>:</strong> <code>C</code></li><li><strong><code>float</code>:</strong> <code>F</code></li><li><strong><code>double</code>:</strong> <code>D</code></li></ul><p>En cambio, para elementos de tipo "objetual" se debe usar la letra <code>L</code>, seguida del nombre calificado completo de la clase y finalizado con el carácter <code>';'</code>.</p><p>Así, si queremos obtener la clase de un <span xml:lang="en" lang="en">array</span> de enteros y un <span xml:lang="en" lang="en">array</span> de cadenas, usaremos:</p><pre><code>Class intArrayClass = Class.forName("[I");
Class stringArrayClass = Class.forName("[Ljava.lang.String;");</code></pre><p>Una vez tenemos la clase del <span xml:lang="en" lang="en">array</span>, podemos obtener el tipo del componente (es decir, el tipo de los elementos del <span xml:lang="en" lang="en">array</span>) mediante el método <code>Class.getComponentType()</code>. Por ejemplo, para nuestro <span xml:lang="en" lang="en">array</span> anterior:</p><pre><code>Class namesClass = names.getClass();
Class componentClass = namesClass.getComponentType();</code></pre><p>En este ejemplo, la variable <code>componentClass</code> contendrá la clase <code>java.lang.String</code> .</p><h3 xml:lang="en" lang="en">Generics</h3><p>Mediante
 reflexión también seremos capaces de obtener en tiempo de ejecución 
información sobre tipos genéricos, aunque el sistema es un poco más 
complejo y no tan inmediato como cuando tratábamos con tipos "normales".</p><p>Crearemos la siguiente clase para nuestros ejemplos, extensión de la clase <code>User</code> que definimos en nuestro artículo <a href="http://www.arumeinformatica.es/blog/java-reflection-parte-2/"><span xml:lang="en" lang="en">Java Reflection</span> parte 2</a>:</p><pre><code>package com.test.model;

public class SocialUser extends User
{
	private List&lt;User&gt; friends;

	public List&lt;User&gt; getFriends()
	{
		return friends;
	}

	public void setFriends(List&lt;User&gt; friends)
	{
		this.friends = friends;
	}
}</code></pre><p>Como podemos ver, en nuestro ejemplo estamos usando <span xml:lang="en" lang="en">Java Generics</span> para un caso típico: parametrizar los elementos de una lista <code>Java.util.List</code> (tanto en la definición del atributo como los métodos que manipulan el mismo).</p><p>Primeramente vamos a ver cómo podemos obtener el tipo genérico del atributo <code>friends</code> mediante el método <code>Field.getGenericType()</code>. Quedará mejor explicado viéndolo directamente con un ejemplo:</p><pre><code>Field friendsField = SocialUser.class.getDeclaredField("friends");

Type friendsGenericType = friendsField.getGenericType();
ParameterizedType friendsParameterizedType = (ParameterizedType) friendsGenericType;
Type[] friendsType = friendsParameterizedType.getActualTypeArguments();
Class userClass = (Class) friendsType[0];</code></pre><p>El primer paso es obtener el objeto <code>Field</code> asociado al atributo como aprendimos en el <a href="http://www.arumeinformatica.es/blog/java-reflection-parte-1/">primer artículo sobre <span xml:lang="en" lang="en">Java Reflection</span></a>. Posteriormente obtenemos el tipo genérico en la variable <code>friendsGenericType</code>, que como vemos es del tipo <code>Type</code> (un interfaz genérico para todos los tipos de Java). Pero el tipo contenido ahí es el genérico (<code>java.util.List</code>), mientras que nosotros queremos saber el tipo específico de los elementos de la lista (<code>User</code>). Para poder llegar hasta él, necesitamos hacer un <span xml:lang="en" lang="en">cast</span> de nuestro objeto <code>Type</code> a <code>ParameterizedType</code>
 (un subinterfaz específico de los tipos parametrizados en Java, 
recordemos que los tipos genéricos se llaman también tipos 
parametrizados). Finalmente obtenemos el <span xml:lang="en" lang="en">array</span> de los tipos específicos mediante el método <code>getActualTypeArguments()</code>
 (recordemos que en una declaración de genéricos, se pueden especificar 
varios tipos específicos). Puesto que esto es un ejemplo, sabemos que 
sólo tiene un tipo específico y está en el índice 0 del <span xml:lang="en" lang="en">array</span> resultante (<code>friendsType</code>). Si queremos utilizarlo como un objeto <code>Class</code>, sólo tenemos que asignarlo a una variable con un simple <span xml:lang="en" lang="en">cast</span> de <code>Type</code> a <code>Class</code>.</p><p class="exclamation">En
 nuestro ejemplo se simplificó el código para facilitar la comprensión 
(y porque sabíamos desde el principio cuales iban a ser los tipos 
devueltos), pero en condiciones normales es una buena práctica 
asegurarse de la corrección de los tipos devueltos (por ejemplo haciendo
 un <code>if (friendsGenericType instanceof ParameterizedType)</code> antes del <span xml:lang="en" lang="en">cast</span> de <code>Type</code> a <code>ParameterizedType</code> y no accediendo a ningún elemento del <span xml:lang="en" lang="en">array</span> <code>friendsType</code> sin comprobar que ese índice existe).</p><p>Ahora
 que sabemos cómo obtener y manipular tipos genéricos (o 
parametrizados), obtener el tipo genérico de retorno de una función es 
tan simple como usar el método <code>Method.getGenericReturnType()</code>:</p><pre><code>Method getFriendsMethod = SocialUser.class.getMethod("getFriends", null);
Type returnType = getFriendsMethod.getGenericReturnType();</code></pre><p>Con este código de ejemplo, hemos almacenado en la variable <code>returnType</code> el objeto que contiene el tipo genérico de retorno de la función <code>getFriends()</code>, y cuyo procesamiento es totalmente idéntico al ejemplo anterior.</p><p>Finalmente, podemos obtener también en tiempo de ejecución los tipos genéricos de los parámetros de una función, usando <code>Method.getGenericParameterTypes()</code>:</p><pre><code>Method setFriendsMethod = SocialUser.class.getMethod("setFriends", List.class);
Type[] parameterTypes = setFriendsMethod.getGenericParameterTypes();</code></pre><p>La única diferencia con los dos ejemplos vistos anteriormente es que la variable <code>parameterTypes</code> ahora se trata de un <span xml:lang="en" lang="en">array</span> de objetos <code>Type</code>, donde cada elemento de dicho <span xml:lang="en" lang="en">array</span> se corresponde con el tipo genérico del parámetro correspondiente en la función <code>setFriends()</code> (en nuestro ejemplo un único elemento, pues nuestra función sólo tiene un parámetro).</p></div>
<p class="blog-post-tags">Etiquetado en:
 <a rel="tag" href="http://www.arumeinformatica.es/blog/tag/java/">Java</a>, <a rel="tag" href="http://www.arumeinformatica.es/blog/tag/programacion/">Programación</a></p>

<h3><a name="blog-comments" id="blog-comments"></a>Comentarios</h3>
<p>11 comentarios. <a id="blog-comment-link" href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#blog-comment">Comentar</a>.</p>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">1</span>.
	<em>Carlos Torres</em>
	el 26 <abbr title="Julio">Jul</abbr> 2011 a las 07:28:18</p>
	<div class="blog-comments-text">
		<p>Muy interesante articulo, me ha servido mucho para el proyecto que estoy realizando muchas gracias.</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">2</span>.
	<em>vcs</em>
	el 11 <abbr title="Agosto">Ago</abbr> 2011 a las 00:18:04</p>
	<div class="blog-comments-text">
		<p>Esta bien bueno su blog!, aparte todo muy claro, la separacion de la explicacion y los codigos es totalmente entendible ;)</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">3</span>.
	<a href="http://javahelp.redsaltillo.net/" rel="nofollow" title="Ir a la página web de White_King"><strong>White_King</strong></a>
	el 20 <abbr title="Febrero">Feb</abbr> 2012 a las 05:21:17</p>
	<div class="blog-comments-text">
		<p>excelente post y muy bien explicado, habrá una continuación supongo?</p><p>me gustaría registrarme, Saludos</p><p><a href="http://javahelp.redsaltillo.net/" rel="nofollow">http://javahelp.redsaltillo.net</a></p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">4</span>.
	<em>Anónimo</em>
	el 06 <abbr title="Marzo">Mar</abbr> 2012 a las 19:43:25</p>
	<div class="blog-comments-text">
		<p>Excelente artículo!!, muy bien explicado... los felicito.</p><p>Daniel</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">5</span>.
	<em>Ramonchu2k</em>
	el 18 <abbr title="Junio">Jun</abbr> 2012 a las 12:53:41</p>
	<div class="blog-comments-text">
		<p>Enhorabuena, gran articulo, muy bien explicado y que me ha quitado ciertas dudas que tenía. </p><p>Muchisimas gracias.</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">6</span>.
	<em>Rolando</em>
	el 07 <abbr title="Agosto">Ago</abbr> 2012 a las 17:07:36</p>
	<div class="blog-comments-text">
		<p>Excelente</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">7</span>.
	<em>Cristhian</em>
	el 17 <abbr title="Enero">Ene</abbr> 2013 a las 16:13:53</p>
	<div class="blog-comments-text">
		<p>excelente muy bueno muchas gracias</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">8</span>.
	<em>anonimo</em>
	el 04 <abbr title="Octubre">Oct</abbr> 2013 a las 06:46:06</p>
	<div class="blog-comments-text">
		<p>como crear un menu en java swing en tiempo de ejecucion</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">9</span>.
	<em>Emejia</em>
	el 23 <abbr title="Octubre">Oct</abbr> 2013 a las 08:54:56</p>
	<div class="blog-comments-text">
		<p>Muy buen  trabajo se  tomaron el tiempo y se nota los frutos del esfuerzo muchas gracias por el aporte</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">10</span>.
	<em>Anónimo</em>
	el 30 <abbr title="Noviembre">Nov</abbr> 2013 a las 22:10:29</p>
	<div class="blog-comments-text">
		<p>Muy bueno. Me ha servido muchísimo</p>	</div>
</div>
<div class="blog-comments-list">
	<p class="blog-comments-data"><span class="blog-comment-id">11</span>.
	<em>Anónimo</em>
	el 13 <abbr title="Diciembre">Dic</abbr> 2013 a las 19:24:18</p>
	<div class="blog-comments-text">
		<p>Me fue muy util la explicación que se da en este blog. Muchas gracias</p>	</div>
</div>

<h3><a name="blog-comment" id="blog-comment"></a>Comentar</h3>
<form method="post" action="blog/java-reflection-parte-3/#blog-comment" id="blog-comments-form">
	<p><label for="blog_comments_form_text">Comentario <abbr title="Campo obligatorio" class="required">*</abbr> </label><textarea cols="125" rows="8" id="blog_comments_form_text" name="blog_comments_form_text" class="inputbox"></textarea></p>
		<p class="required-email"><label for="required-email">No cubrir este campo <abbr title="Campo obligatorio" class="required">*</abbr> </label><input id="required-email" name="required-email"></p>
	<div id="blog-comment-auth" class="clearfix">
		<fieldset class="column-left">
			<legend>Comentar de forma anónima</legend>
			<p class="blog-comment-help">Puedes comentar poniendo cualquier nombre o apodo, exceptuando los nombres de usuarios registrados. Máximo de 50 caracteres.</p>
			<p><label for="blog_comments_form_alias">Nombre </label><input id="blog_comments_form_alias" name="blog_comments_form_alias" class="inputbox" value="Anónimo"></p>
			<p class="buttons"><input name="comment-send-anonymous" value="Enviar" class="button" type="submit"></p>
		</fieldset>
		<fieldset class="column-right">
			<legend>Comentar como usuario registrado</legend>
			<p class="form-inputs"><label for="blog_comments_form_email" xml:lang="en" lang="en">Email </label><input id="blog_comments_form_email" name="blog_comments_form_email" class="inputbox"></p>
			<p class="form-inputs"><label for="blog_comments_form_pass">Contraseña </label><input id="blog_comments_form_pass" name="blog_comments_form_pass" class="inputbox" type="password"></p>
			<p class="buttons"><input name="comment-send-registered" value="Enviar" class="button" type="submit"></p>
			<p class="mod-blog-user-extra"><a href="http://www.arumeinformatica.es/blog/usuarios/registrarse/">Registrarse</a>. <a class="mod-blog-user-forgotten" href="http://www.arumeinformatica.es/blog/usuarios/olvide-mi-contrasena/">¿Has olvidado tu contraseña?</a></p>
		</fieldset>
	</div>
	</form>
			</div>
		</div>
	</div>
	<div id="footer">
			
<h2 class="ac-hidden">Menú secundario</h2>
<p class="ac-hidden"><a href="http://www.arumeinformatica.es/blog/java-reflection-parte-3/#sk-footer" rel="nofollow">Saltar el menú secundario</a></p>
<ul id="footer-menu" class="pagewidth clearfix">
	<li class="column-left" id="footer-menu-1"><a href="http://www.arumeinformatica.es/accesibilidad/" title="Declaración de accesibilidad [8]" accesskey="8">Accesibilidad</a></li>
	<li class="column-left" id="footer-menu-2"><a href="http://www.arumeinformatica.es/aviso-legal/" title="Formalismos necesarios [9]" accesskey="9">Aviso legal</a></li>
	<li class="column-left" id="footer-menu-3"><a href="http://www.arumeinformatica.es/mapa-web/" title="Estructura de esta página web [0]" accesskey="0">Mapa web</a></li>
</ul>
<p class="ac-hidden"><a id="sk-footer" name="sk-footer"></a></p>
	</div>
	
</body></html>